<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" height="100%" width="100%"
	horizontalScrollPolicy="off" verticalScrollPolicy="off"
	xmlns:chrome="com.xd.components.chrome.*"
	xmlns:search="com.xd.components.search.*" >
	
	<mx:Script>
		<![CDATA[
			
			private function detectOS():void {
				if(Capabilities.os.search("Mac") >= 0){
					trace("I am on a Mac");
					whichControls.selectedIndex = 0;
					macWindowControls.visible = true;
				} else {
					trace("I am on a PC");
					whichControls.selectedIndex = 1;
					winWindowControls.visible = true;
				}
			}
			
		]]>
	</mx:Script>
	
	<mx:ViewStack id="whichControls" top="0" bottom="0" left="0" right="0" width="100%"  >
	
		<!-- Mac Application ControlBar -->
		<mx:HBox id="macApplicationBar" width="100%" height="100%" paddingLeft="8" paddingRight="8" horizontalAlign="left" verticalAlign="middle" horizontalGap="10"
			creationComplete="detectOS();" horizontalScrollPolicy="off" verticalScrollPolicy="off" >
			<!-- Mac Windowing Buttons -->
			<chrome:AppWindowControls id="macWindowControls" visible="false"  />
			<mx:Spacer width="40" />
			<mx:Spacer width="100%" />
			<mx:Image source="@Embed('/assets/skins/dark/logo_CustomChrome.png')" />
			<mx:Spacer width="100%" />
			<search:SearchInputDark width="160" />
		</mx:HBox>
		
		<!-- Windows Application ControlBar -->
		<mx:HBox id="winApplicationBar" width="100%" height="100%" paddingRight="8" horizontalAlign="right" verticalAlign="middle" horizontalGap="10"
			creationComplete="detectOS();" horizontalScrollPolicy="off" verticalScrollPolicy="off" >
			<mx:Spacer width="60" />
			<mx:Spacer width="160" />
			<mx:Spacer width="100%" />
			<mx:Image source="@Embed('/assets/skins/dark/logo_CustomChrome.png')" />
			<mx:Spacer width="100%" />
			<search:SearchInputDark width="160" />
			<chrome:AppWindowControls id="winWindowControls" visible="false" /> 
		</mx:HBox>

	</mx:ViewStack>

</mx:Canvas>